<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Simple example of Autotest, Cucumber, and Growl - Karl O'Keeffe
    </title>
    <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <style>body {
  box-sizing: border-box;
  color: #333;
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 11px; /* For the PDF CV */
  letter-spacing: 0.2px;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  word-wrap: break-word;
}

.page {
  font-size: 16px; /* For the Website */
}

a {
  color: #2469C8;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h1, h2, h3, h4, h5, h6, p, body, a, img, ul, ol, blockquote, pre {
  margin: 0; padding: 0; border: 0;
}

body {
  background-color: #ffffff;
  /*text-rendering: optimizeLegibility;*/
}

.content-wrap {
  width: 34em;
  margin: 0 auto;
}

p {
  margin-top: 0;
  margin-bottom: 16px;
}

h1 {
  font-size: 2em;
  margin-bottom: 1em;
}

h2 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  padding-bottom: .3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

h3 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  font-size: 1.5em;
  line-height: 1.43;
}

ol, ul {
  padding: 0;
  padding-left: 2em;
  margin-top: 0;
  margin-bottom: 16px;
}

blockquote {
  margin: 1.2em 3em;
  padding-left: 1em;
  font-style: italic;
}

hr {
  border: 0;
  border-top: 1px dashed #d2d2d2;
  height: 0;
  margin: 1.6em 0;
}

/* page header */

.header {
  padding: 2em;
  background: #FFA91A;
}

.header h1 {
  font-size: 2.6em;
  text-align: center;
  font-weight: 700;
  margin: 0;
}

.header a, .header a:hover {
  text-decoration: none;
  color: #ffffff;
}

/* page footer */

footer {
  margin: 3em 0;
}

footer .nav {
  text-align: center;
  margin-top: 5em;
  margin-bottom: 3.5em;
}

footer .nav a {
  padding: 0 0.5em;
  font-size: 1.2em;
  text-decoration: none;
}

footer .about {
  padding: 2.2em 3em;
  text-align: center;
  color: #888;
}

/* article */

.article {
  margin: 3em 0 4em;
}

.article header .date {
  text-align: center;
  margin-top: -0.7em;
}

.article .content img {
  display: block;
  width: 100%;
}

/* code styling */

p code,
h2 code {
  font-family: Consolas,"Liberation Mono",Menlo,Courier,monospace;
  padding: 0;
  padding-top: .2em;
  padding-bottom: .2em;
  margin: 0;
  font-size: 85%;
  background-color: #f7f7f7;
  border-radius: 3px;
}

h2 code:before,
h2 code:after,
p code:before,
p code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

pre {
  font-family: Consolas,"Liberation Mono",Menlo,Courier,monospace;
  word-wrap: normal;
  padding: 16px;
  overflow: auto;
  /*font-size: 100%;*/
  font-size: 13.6px;
  line-height: 1.45;
  background-color: #f7f7f7;
  border: 0;
  border-radius: 3px;
  margin-top: 0;
  margin-bottom: 16px;
}

pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
  /*font-size: 100%;*/
  white-space: pre;
  background: transparent;
  border-radius: 3px;
}

/* syntax hl stuff */

code.lang-markdown {
  color: #424242;
}

code.lang-markdown .header,
code.lang-markdown .strong {
  font-weight: bold;
}

code.lang-markdown .emphasis {
  font-style: italic;
}

code.lang-markdown .horizontal_rule,
code.lang-markdown .link_label,
code.lang-markdown .code,
code.lang-markdown .header,
code.lang-markdown .link_url {
  color: #555;
}

code.lang-markdown .blockquote,
code.lang-markdown .bullet {
  color: #bbb;
}

/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
.tomorrow-comment, pre .comment, pre .title {
  color: #8e908c;
}

.tomorrow-red, pre .variable, pre .attribute, pre .tag, pre .regexp, pre .ruby .constant, pre .xml .tag .title, pre .xml .pi, pre .xml .doctype, pre .html .doctype, pre .css .id, pre .css .class, pre .css .pseudo {
  color: #c82829;
}

.tomorrow-orange, pre .number, pre .preprocessor, pre .built_in, pre .literal, pre .params, pre .constant {
  color: #f5871f;
}

.tomorrow-yellow, pre .class, pre .ruby .class .title, pre .css .rules .attribute {
  color: #eab700;
}

.tomorrow-green, pre .string, pre .value, pre .inheritance, pre .header, pre .ruby .symbol, pre .xml .cdata {
  color: #718c00;
}

.tomorrow-aqua, pre .css .hexcolor {
  color: #3e999f;
}

.tomorrow-blue, pre .function, pre .python .decorator, pre .python .title, pre .ruby .function .title, pre .ruby .title .keyword, pre .perl .sub, pre .javascript .title, pre .coffeescript .title {
  color: #4271ae;
}

.tomorrow-purple, pre .keyword, pre .javascript .function {
  color: #8959a8;
}

/* media queries */

@media (max-width: 690px) {
  .content-wrap {
    width: auto;
    padding: 0 1em;
  }
  .header {
    padding: 1em;
  }
  .header h1 {
    font-size: 1.4em;
  }
  .article {
    margin: 1em 0 2.5em;
  }
  .archive {
    width: 80%;
    margin: 0 auto;
  }
  .archive * {
    float: none !important;
    line-height: 1.6 !important;
    width: auto !important;
    height: auto !important;
    text-align: left !important;
    border: 0 !important;
    margin: 0 !important;
  }
  footer .nav {
    margin: 1em 0;
  }
  footer .about {
    padding: 0;
    padding-top: 1.6em;
  }
  footer .about p {
    margin-bottom: 1em;
  }
}

    </style>
  </head>
  <body class="page">
    <header class="header">
      <div class="content-wrap">
        <div class="logo">
          <h1><a href="/">Karl O'Keeffe</a></h1>
        </div>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <header>
            <h2><a href="/blog/articles/simple-example-of-autotest-cucumber-and-growl/">Simple example of Autotest, Cucumber, and Growl</a></h2>
            <p class="date"><span>17. June 2009</span></p>
          </header>
          <section class="content"><p>As an example of getting Autotest, Cucumber, and Growl up and running I’ve created a super simple test project. You can <a href="/blog/articles/simple-example-of-autotest-cucumber-and-growl/Autotest-Cucumber.zip">download the example project</a>, or just create it from the code on this<span class="widont">&nbsp;</span>post.</p>
<h2 id="install-ruby-growl-and-gems">Install Ruby, Growl, and<span class="widont">&nbsp;</span>Gems</h2>
<p>First up we need to ensure that we have all our dependancies<span class="widont">&nbsp;</span>installed.</p>
<p>If you haven’t already, <a href="http://www.ruby-lang.org/en/downloads/">download and install<span class="widont">&nbsp;</span>Ruby</a>.</p>
<p>Then we need to install the Autotest, Cucumber, and Growl Ruby gems. We can do this using the <code>gem</code> command that comes packaged with<span class="widont">&nbsp;</span>Ruby.</p>
<pre><code class="lang-bash"><span class="comment"># Autotest test is part of the ZenTest gem</span>
sudo gem install ZenTest
sudo gem install cucumber
<span class="comment"># Use my modified autotest-growl gem (until the changes are merged into the official gem)</span>
sudo gem install karl-autotest-growl --source http://gems.github.com
</code></pre>
<p>Next we need to ensure that the Growl application itself is installed. If not <a href="http://growl.info/">download and install<span class="widont">&nbsp;</span>Growl</a>.</p>
<h2 id="create-project">Create Project</h2>
<p>Now we are ready to create our project. The either <a href="/blog/articles/simple-example-of-autotest-cucumber-and-growl/Autotest-Cucumber.zip">download the example project</a> or create the file heirarchy<span class="widont">&nbsp;</span>below:</p>
<ul>
<li><p>[dir] Autotest-Cucumber</p>
<ul>
<li>[file] .autotest</li>
<li><p>[dir] features</p>
<pre><code>*   [file] test.feature
</code></pre></li>
</ul>
</li>
</ul>
<p>Copy the code below into the <code>.autotest</code> file:</p>
<h4 id="-autotest">.autotest</h4>
<pre><code class="lang-ruby"><span class="keyword">require</span> <span class="string">'autotest/growl'</span>
</code></pre>
<p>And the copy the following into the <code>test.feature</code> file:</p>
<h4 id="test-feature">test.feature</h4>
<pre><code class="lang-cucumber">Feature:

    Scenario:
        Given I save 1
        Then I have 1
</code></pre>
<h2 id="set-environment">Set Environment</h2>
<p>Lastly we need to set the <span class="caps">AUTOFEATURE</span> environment variable to true, so that <a href="http://wiki.github.com/aslakhellesoy/cucumber/autotest-integration">autotest will run the Cucumber tests automatically</a>:</p>
<pre><code class="lang-bash">AUTOFEATURE=<span class="literal">true</span>
</code></pre>
<h2 id="run-autotest-">Run Autotest!</h2>
<p>Finally we can run autotest, and watch as it picks up the Cucumber tests, runs them, and notifies us via Growl. Open terminal and navigate to the project directory. Then run<span class="widont">&nbsp;</span>autotest:</p>
<pre><code class="lang-bash">autotest
</code></pre>
<p>Autotest will initiate a Cucumber run. Cucumber will pick up the <code>test.feature</code> file (because it looks for a <code>features</code> folder by default). The Cucumber run will show that you have 1 undefined scenario (and be kind enough to give you the code for your undefined steps). And finally Growl will display a notification that you have 1 undefined scenario,<span class="widont">&nbsp;</span>yay!</p>
<pre><code class="lang-plain">c:/ruby/bin/ruby c:/ruby/lib/ruby/gems/1.8/gems/aslakhellesoy-cucumber-0.3.11.3/bin/cucumber --format progress --format rerun --out C:/Temp/autotest-cucumber.17824.1 features
UU

1 scenario (1 undefined)
2 steps (2 undefined)
0m0.000s

You can implement step definitions for undefined steps with these snippets:

Given /^I save 1$/ do
  pending
end

Then /^I have 1$/ do
  pending
end
</code></pre>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/blog/">Full blog</a></div>
        <section class="about"><p>Personal homepage of <a href="/">Karl O’Keeffe</a>.</p>

        </section>
      </div>
    </footer>
  </body>
</html>