<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Simple example of Autotest, Cucumber, and Growl - Karl O'Keeffe
    </title>
    <link rel="alternate" href="//feed.xml" type="application/rss+xml" title="">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <div class="logo">
          <h1><a href="/">Karl O'Keeffe</a></h1>
          <p class="description"></p>
        </div>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>As an example of getting Autotest, Cucumber, and Growl up and running I’ve created a super simple test project. You can <a href="/blog/articles/simple-example-of-autotest-cucumber-and-growl/Autotest-Cucumber.zip">download the example project</a>, or just create it from the code on this&nbsp;post.</p>
<h2 id="install-ruby-growl-and-gems">Install Ruby, Growl, and&nbsp;Gems</h2>
<p>First up we need to ensure that we have all our dependancies&nbsp;installed.</p>
<p>If you haven’t already, <a href="http://www.ruby-lang.org/en/downloads/">download and install Ruby</a>.</p>
<p>Then we need to install the Autotest, Cucumber, and Growl Ruby gems. We can do this using the <code>gem</code> command that comes packaged with&nbsp;Ruby.</p>
<pre><code class="lang-bash"><span class="comment"># Autotest test is part of the ZenTest gem</span>
sudo gem install ZenTest
sudo gem install cucumber
<span class="comment"># Use my modified autotest-growl gem (until the changes are merged into the official gem)</span>
sudo gem install karl-autotest-growl --source http://gems.github.com
</code></pre>
<p>Next we need to ensure that the Growl application itself is installed. If not <a href="http://growl.info/">download and install Growl</a>.</p>
<h2 id="create-project">Create&nbsp;Project</h2>
<p>Now we are ready to create our project. The either <a href="/blog/articles/simple-example-of-autotest-cucumber-and-growl/Autotest-Cucumber.zip">download the example project</a> or create the file heirarchy&nbsp;below:</p>
<ul>
<li><p>[dir]&nbsp;Autotest-Cucumber</p>
<ul>
<li>[file]&nbsp;.autotest</li>
<li><p>[dir]&nbsp;features</p>
<pre><code>*   [file] test.feature
</code></pre></li>
</ul>
</li>
</ul>
<p>Copy the code below into the <code>.autotest</code> file:</p>
<h4 id="-autotest">.autotest</h4>
<pre><code class="lang-ruby"><span class="keyword">require</span> <span class="string">'autotest/growl'</span>
</code></pre>
<p>And the copy the following into the <code>test.feature</code> file:</p>
<h4 id="test-feature">test.feature</h4>
<pre><code class="lang-cucumber">Feature:

    Scenario:
        Given I save 1
        Then I have 1
</code></pre>
<h2 id="set-environment">Set&nbsp;Environment</h2>
<p>Lastly we need to set the <span class="caps">AUTOFEATURE</span> environment variable to true, so that <a href="http://wiki.github.com/aslakhellesoy/cucumber/autotest-integration">autotest will run the Cucumber tests automatically</a>:</p>
<pre><code class="lang-bash">AUTOFEATURE=<span class="literal">true</span>
</code></pre>
<h2 id="run-autotest-">Run&nbsp;Autotest!</h2>
<p>Finally we can run autotest, and watch as it picks up the Cucumber tests, runs them, and notifies us via Growl. Open terminal and navigate to the project directory. Then run&nbsp;autotest:</p>
<pre><code class="lang-bash">autotest
</code></pre>
<p>Autotest will initiate a Cucumber run. Cucumber will pick up the <code>test.feature</code> file (because it looks for a <code>features</code> folder by default). The Cucumber run will show that you have 1 undefined scenario (and be kind enough to give you the code for your undefined steps). And finally Growl will display a notification that you have 1 undefined scenario,&nbsp;yay!</p>
<pre><code class="lang-plain">c:/ruby/bin/ruby c:/ruby/lib/ruby/gems/1.8/gems/aslakhellesoy-cucumber-0.3.11.3/bin/cucumber --format progress --format rerun --out C:/Temp/autotest-cucumber.17824.1 features
UU

1 scenario (1 undefined)
2 steps (2 undefined)
0m0.000s

You can implement step definitions for undefined steps with these snippets:

Given /^I save 1$/ do
  pending
end

Then /^I have 1$/ do
  pending
end
</code></pre>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/blog/">« Full blog</a></div>
        <section class="about"><p>Personal homepage of Karl O’Keeffe.</p>

        </section>
      </div>
    </footer>
  </body>
</html>