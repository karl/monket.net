<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Dancing Monkeys - Karl O'Keeffe
    </title>
    <link rel="alternate" href="//feed.xml" type="application/rss+xml" title="">
    <style>body {
  box-sizing: border-box;
  color: #333;
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 16px;
  letter-spacing: 0.2px;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  word-wrap: break-word;
}

a {
  color: #2469C8;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h1, h2, h3, h4, h5, h6, p, body, a, img, ul, ol, blockquote, pre {
  margin: 0; padding: 0; border: 0;
}

body {
  background-color: #ffffff;
  /*text-rendering: optimizeLegibility;*/
}

.content-wrap {
  width: 34em;
  margin: 0 auto;
}

p {
  margin-top: 0;
  margin-bottom: 16px;
}

h1 {
  font-size: 2em;
  margin-bottom: 1em;
}

h2 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  padding-bottom: .3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

h3 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  font-size: 1.5em;
  line-height: 1.43;
}

ol, ul {
  padding: 0;
  padding-left: 2em;
  margin-top: 0;
  margin-bottom: 16px;
}

blockquote {
  margin: 1.2em 3em;
  padding-left: 1em;
  font-style: italic;
}

hr {
  border: 0;
  border-top: 1px dashed #d2d2d2;
  height: 0;
  margin: 1.6em 0;
}

/* page header */

.header {
  padding: 2em;
  background: #FFA91A;
}

.header h1 {
  font-size: 2.6em;
  text-align: center;
  font-weight: 700;
  margin: 0;
}

.header a, .header a:hover {
  text-decoration: none;
  color: #ffffff;
}

/* page footer */

footer {
  margin: 3em 0;
}

footer .nav {
  text-align: center;
  margin-top: 5em;
  margin-bottom: 3.5em;
}

footer .nav a {
  padding: 0 0.5em;
  font-size: 1.2em;
  text-decoration: none;
}

footer .about {
  padding: 2.2em 3em;
  text-align: center;
  color: #888;
}

/* article */

.article {
  margin: 3em 0 4em;
}

.article header .date {
  text-align: center;
  margin-top: -0.7em;
}

.article .content img {
  display: block;
  width: 100%;
}

/* code styling */

p code,
h2 code {
  font-family: Consolas,"Liberation Mono",Menlo,Courier,monospace;
  padding: 0;
  padding-top: .2em;
  padding-bottom: .2em;
  margin: 0;
  font-size: 85%;
  background-color: #f7f7f7;
  border-radius: 3px;
}

h2 code:before,
h2 code:after,
p code:before,
p code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

pre {
  font-family: Consolas,"Liberation Mono",Menlo,Courier,monospace;
  word-wrap: normal;
  padding: 16px;
  overflow: auto;
  /*font-size: 100%;*/
  font-size: 13.6px;
  line-height: 1.45;
  background-color: #f7f7f7;
  border: 0;
  border-radius: 3px;
  margin-top: 0;
  margin-bottom: 16px;
}

pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
  /*font-size: 100%;*/
  white-space: pre;
  background: transparent;
  border-radius: 3px;
}

/* syntax hl stuff */

code.lang-markdown {
  color: #424242;
}

code.lang-markdown .header,
code.lang-markdown .strong {
  font-weight: bold;
}

code.lang-markdown .emphasis {
  font-style: italic;
}

code.lang-markdown .horizontal_rule,
code.lang-markdown .link_label,
code.lang-markdown .code,
code.lang-markdown .header,
code.lang-markdown .link_url {
  color: #555;
}

code.lang-markdown .blockquote,
code.lang-markdown .bullet {
  color: #bbb;
}

/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
.tomorrow-comment, pre .comment, pre .title {
  color: #8e908c;
}

.tomorrow-red, pre .variable, pre .attribute, pre .tag, pre .regexp, pre .ruby .constant, pre .xml .tag .title, pre .xml .pi, pre .xml .doctype, pre .html .doctype, pre .css .id, pre .css .class, pre .css .pseudo {
  color: #c82829;
}

.tomorrow-orange, pre .number, pre .preprocessor, pre .built_in, pre .literal, pre .params, pre .constant {
  color: #f5871f;
}

.tomorrow-yellow, pre .class, pre .ruby .class .title, pre .css .rules .attribute {
  color: #eab700;
}

.tomorrow-green, pre .string, pre .value, pre .inheritance, pre .header, pre .ruby .symbol, pre .xml .cdata {
  color: #718c00;
}

.tomorrow-aqua, pre .css .hexcolor {
  color: #3e999f;
}

.tomorrow-blue, pre .function, pre .python .decorator, pre .python .title, pre .ruby .function .title, pre .ruby .title .keyword, pre .perl .sub, pre .javascript .title, pre .coffeescript .title {
  color: #4271ae;
}

.tomorrow-purple, pre .keyword, pre .javascript .function {
  color: #8959a8;
}

/* media queries */

@media (max-width: 690px) {
  .content-wrap {
    width: auto;
    padding: 0 1em;
  }
  .header {
    padding: 1em;
  }
  .header h1 {
    font-size: 1.4em;
  }
  .article {
    margin: 1em 0 2.5em;
  }
  .archive {
    width: 80%;
    margin: 0 auto;
  }
  .archive * {
    float: none !important;
    line-height: 1.6 !important;
    width: auto !important;
    height: auto !important;
    text-align: left !important;
    border: 0 !important;
    margin: 0 !important;
  }
  footer .nav {
    margin: 1em 0;
  }
  footer .about {
    padding: 0;
    padding-top: 1.6em;
  }
  footer .about p {
    margin-bottom: 1em;
  }
}

    </style>
  </head>
  <body>
    <header class="header">
      <div class="content-wrap">
        <div class="logo">
          <h1><a href="/">Karl O'Keeffe</a></h1>
        </div>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <header>
            <h2><a href="/dancing-monkeys/">Dancing Monkeys</a></h2>
          </header>
          <section class="content"><h2 id="automatically-generate-step-files-for-stepmania">Automatically Generate step files for&nbsp;Stepmania</h2>
<p>Dancing Monkeys was <a href="http://www.karlokeeffe.com">Karl O’Keeffe’s</a> individual project while at Imperial College London. It is an application to automatically generate step files for <span class="caps">DDR</span> (Dance Dance Revolution) simulators, such as <a href="http://www.stepmania.com">StepMania</a>. It analyzes the music it is given to determine when and where to place arrows. <a href="http://erich.realtimerendering.com/">Eric Haines</a> has taken up development of Dancing Monkeys, and <a href="mailto:DancingGorilla@gmail.com">David Flink</a> has created a friendly front-end called&nbsp;Gorilla.</p>
<p><img src="/dancing-monkeys/Feet.png" alt="Feet.png"></p>
<h2 id="quick-install">Quick&nbsp;Install</h2>
<p>Download the latest version below and install, then run DancingGorilla on the desktop (or Gorilla.exe, in the topmost directory). It will show you how things are configured, i.e., where it thinks DancingMonkeys.exe, StepMania, and Dance With Intensity (rarely used nowadays) is installed. It will also show you the default options for running the&nbsp;program.</p>
<p>Hit “<span class="caps">OK</span>” when done. Once you get to the next screen, you can add song files (.WAV and .MP3) and directories using the buttons or simply dragging and dropping from the file explorer. Press “Go” and wait awhile. Song step files are put in the “My Music” song collection in Stepmania, ready to play. See <a href="/dancing-monkeys/tutorial/">the tutorial</a> for further&nbsp;information.</p>
<h2 id="download-latest-version">Download Latest&nbsp;Version</h2>
<p><strong><a href="/dancing-monkeys/DancingGorilla-1.1.4-1.06.zip">Dancing Monkeys 1.06 and Gorilla 1.1.4</a></strong> (<span class="caps">ZIP</span>&nbsp;7.0MB)</p>
<p>See the <a href="/dancing-monkeys/change-log/">Change Log</a> for the code history and new&nbsp;features.</p>
<h3 id="previous-major-versions">Previous Major&nbsp;Versions</h3>
<ul>
<li><a href="/dancing-monkeys/DancingGorilla-1.1.3-1.06.zip">Dancing Monkeys 1.06 and Gorilla 1.1.3</a> (<span class="caps">ZIP</span>&nbsp;7.0MB)</li>
<li><a href="/dancing-monkeys/DancingGorilla-1.0.2-1.06.zip">Dancing Monkeys 1.06 and Gorilla 1.0.2</a> (<span class="caps">ZIP</span>&nbsp;7.0MB)</li>
<li><a href="/dancing-monkeys/DancingGorilla-1.0.1-1.06.zip">Dancing Monkeys 1.06 and Gorilla 1.0.1</a> (<span class="caps">ZIP</span>&nbsp;7.0MB)</li>
<li><a href="/dancing-monkeys/Dancing%20Monkeys%201.04.rar">Monkeys 1.04.rar Dancing Monkeys 1.04 and Gorilla 0.10.7</a> (<span class="caps">RAR</span>&nbsp;7.0MB)</li>
<li><a href="/dancing-monkeys/DancingMonkeys%201.03.exe.zip">1.03.exe.zip Dancing Monkeys 1.03 executable only</a> (<span class="caps">ZIP</span>&nbsp;115KB)</li>
<li><a href="/dancing-monkeys/Dancing%20Monkeys%201.01.zip">Monkeys 1.01.zip Dancing Monkeys 1.01</a> (<span class="caps">ZIP</span> 9.0MB) (command line&nbsp;only)</li>
<li><a href="/dancing-monkeys/Dancing%20Monkeys%201.0.zip">Monkeys 1.0.zip Dancing Monkeys 1.0</a> (<span class="caps">ZIP</span> 8.9MB) (command line&nbsp;only)</li>
</ul>
<p>The source code for Dancing Monkeys and Gorilla are included in this installation. If you have MatLab, you might want to use the native MatLab code for Dancing Monkeys, found in the “Source” subdirectory of the installation, as it is much faster (about 3 times faster). See the bottom of this page for how to run the code under MatLab. That said, Gorilla has many useful features DancingMonkeys does&nbsp;not.</p>
<h3 id="file-extractors">File&nbsp;Extractors</h3>
<p>Use <a href="http://www.winzip.com/downwzeval.htm">WinZip</a> to extract <span class="caps">ZIP</span> files, and <a href="http://www.rarlab.com/download.htm">WinRAR</a> for the older <span class="caps">RAR</span> files, if need&nbsp;be.</p>
<h2 id="-tutorial-and-troubleshooting-tutorial-"><a href="/dancing-monkeys/tutorial/">Tutorial and&nbsp;Troubleshooting</a></h2>
<p>Check out <a href="/dancing-monkeys/tutorial/">the tutorial</a> for comprehensive instructions on using Gorilla and Dancing Monkeys. This page also explains many common problems and&nbsp;errors.</p>
<h3 id="support">Support</h3>
<p><a href="/dancing-monkeys/tutorial/">The tutorial</a> has a section about errors and their solutions, so please check there first. <a href="http://erich.realtimerendering.com/">Eric</a> has taken up development of Dancing Monkeys, creating the new 1.02 through 1.06 versions. <a href="mailto:DancingGorilla@gmail.com">David</a> developed the front-end program Gorilla. Contact them for problems with the programs. <a href="http://www.karlokeeffe.com">Karl O’Keeffe</a> wrote the original Dancing Monkeys and maintains this&nbsp;website.</p>
<h2 id="sample-files">Sample&nbsp;Files</h2>
<p>You can download <a href="http://www.mediafire.com/?czwndzk5jil">free step files for 18 songs</a> from the <a href="http://www.diesel-u-music.com/index.cfm?page=1088">Diesel:U:Music 2006 competition</a>. Just unzip the file into your StepMania\Songs directory. All step files were created by Dancing Monkeys; my favorite is group_inou’s “<span class="caps">BPA</span>”. These tracks are free to redistribute and remix, for noncommercial use, under the <a href="http://creativecommons.org/licenses/by-nc/2.5/">Creative Commons license</a>. If the <a href="http://www.mediafire.com/?czwndzk5jil">download link</a> does not work for you, try using Internet Explorer (I had problems using Firefox). An alternate download site is from <a href="http://rapidshare.com/files/8406027/Diesel_2006.zip.html">RapidShare</a>, though they have queues, etc.&nbsp;Enjoy!</p>
<h2 id="command-line-control">Command Line&nbsp;Control</h2>
<p>You can run Dancing Monkeys directly from the command line instead of using Gorilla. See the <a href="/dancing-monkeys/command-line/">Command Line</a>&nbsp;page.</p>
<h2 id="changes">Changes</h2>
<p>Dancing Monkeys 1.02 through 1.06 were written by <a href="http://erich.realtimerendering.com/">Eric Haines</a> and contains a number of&nbsp;improvements:</p>
<ul>
<li>Directories and <span class="caps">M3U</span> playlists can also be used as input. All songs in all subdirectories are&nbsp;processed.</li>
<li><span class="caps">MP3</span> artist and title information is read in and saved in the generated step&nbsp;file.</li>
<li>iTunes <span class="caps">MP3</span> embedded images are extracted as banner and background images for the step files&nbsp;(v1.04).</li>
<li>Input <span class="caps">MP3</span>’s are converted to MP3’s on&nbsp;output.</li>
<li>Creation of song file and directory occurs only if successful - no more partial&nbsp;results.</li>
<li>The number of steps is scaled to the length of the song (in v1.01, long songs would get fewer steps per measure). Thanks to Ornlu for this&nbsp;change.</li>
<li>A large number of options are now controllable, including the number of stops acceptable, the beats per minute search range, the number of beats per bar, maximum song length, etc. See the documentation&nbsp;above.</li>
<li>Lower memory requirements (and so, for many machines, faster processing). Nothing fancy here, just freeing large arrays when no longer used. You can still run out of memory - I recommend rebooting and trying&nbsp;again.</li>
<li>Once a <span class="caps">BPM</span> rate is found, nearby frequencies can be examined to see if they are a closer match, using “-x&nbsp;1”.</li>
</ul>
<p>There are plenty of features still to improve and add, including (from easiest to&nbsp;hardest):</p>
<ul>
<li>Control of inclusion/deletion of stops, freezes, mines, jumps, and “hand” steps (3 or more “feet” per&nbsp;step).</li>
<li>Trying other filter techniques if confidence of <span class="caps">BPM</span> found is&nbsp;low.</li>
<li>Better freeze arrow&nbsp;generation.</li>
<li>Generation of 16<span class="ord">th</span>&nbsp;notes.</li>
<li>Solo/Double step&nbsp;generation.</li>
<li>Multiple <span class="caps">BPM</span> identification in a single&nbsp;song.</li>
<li>Better steps in general, e.g. avoidance of things like 6 left arrows in a row, 4 times in a song, better flow, more variation,&nbsp;etc.</li>
</ul>
<p>If you have more to add to the list, or better yet want to help with <span class="caps">MATLAB</span> development, <a href="http://erich.realtimerendering.com/">let Eric Haines know</a>.</p>
<h2 id="more-information">More&nbsp;Information</h2>
<p>See the <a href="/dancing-monkeys-v2/Change_Log">Change Log</a> for the code&nbsp;history.</p>
<p>Check out this <a href="http://www.ddrfreak.com/phpBB2/viewtopic.php?t=76391">DDRFreak Forums thread</a> for more information on running Dancing Monkeys. It’s a little long but there are some useful nuggets of information in there (mainly relating to the old&nbsp;versions).</p>
<h2 id="project-report">Project&nbsp;Report</h2>
<p>Copies of the final report for the project are available in <span class="caps">PDF</span> and DOC&nbsp;formats.</p>
<ul>
<li><a href="/dancing-monkeys/DancingMonkeys.pdf">Final Report&nbsp;(<span class="caps">PDF</span>)</a></li>
<li><a href="/dancing-monkeys/DancingMonkeys.doc">Final Report&nbsp;(<span class="caps">DOC</span>)</a></li>
</ul>
<h2 id="code">Code</h2>
<p>The full source for the project is included in the latest executable version of Dancing Monkeys and Gorilla - see the top of this page to download it. You’ll find the code in “…\DancingGorilla\Source”. Dancing Monkeys requires <span class="caps">MATLAB</span> in order to run, Gorilla uses Visual&nbsp;Basic.</p>
<p>If you want to run the Matlab code, you should do the&nbsp;following:</p>
<ol>
<li>Install the latest&nbsp;version.</li>
<li>Copy the Dancing Monkey <span class="caps">MATLAB</span> source code from DancingGorilla\Source into the DancingGorilla\bin\win32&nbsp;directory.</li>
<li>Run the <span class="caps">MATLAB</span> source code from bin\win32. Now all the directories you need are in the right places, and the additional executable you need (lame.exe and friends) are available. Typical command window&nbsp;input:</li>
</ol>
<pre><code>DancingMonkeys( &#39;-es&#39;,&#39;3&#39;,&#39;C:\MyMusic\UCant.mp3&#39;,&#39;3&#39;,&#39;5&#39;,&#39;9&#39;)
</code></pre><p>To compile a new stand-alone executable, use “mcc -m DancingMonkeys.m” in <span class="caps">MATLAB</span> 6.5. Newer versions of MATLAB will also work, but the installer needed to run your stand-alone executable (MCRInstaller.exe) on other machines will be around 122&nbsp;megabytes!</p>
<p>Older distributions of Dancing&nbsp;Monkeys:</p>
<ul>
<li><a href="/dancing-monkeys/Dancing%20Monkeys%20Matlab%20Code%201.04.zip">Dancing Monkeys Matlab Code&nbsp;1.04</a></li>
<li><a href="/dancing-monkeys/Dancing%20Monkeys%20Matlab%20Code%201.0.zip">Dancing Monkeys Matlab Code&nbsp;1.0</a></li>
</ul>
<h2 id="copyright-license">Copyright/License</h2>
<h3 id="source-code-and-report">Source Code and&nbsp;Report</h3>
<p>The Dancing Monkeys MatLab Code 1.0 and report are <a href="http://creativecommons.org/licenses/publicdomain/">Public Domain</a>.</p>
<p><img src="http://creativecommons.org/images/public/norights-a.gif" alt="norights-a.gif"></p>
<p>The Dancing Monkeys MatLab Code 1.02 through 1.06 is copyright <a href="http://erich.realtimerendering.com/">Eric</a>, and this source is free to modify and redistribute, with attribution: see <a href="http://creativecommons.org/licenses/by/2.5/"><span class="caps">CC</span> license</a>. The Gorilla <span class="caps">VB</span> Code 1.0.0-present is copyright <a href="mailto:DancingGorilla@gmail.com">David</a>, and this source is distributed under the <a href="http://www.gnu.org/copyleft/gpl.html"><span class="caps">GPL</span></a>.</p>
<h3 id="compiled-application">Compiled&nbsp;Application</h3>
<p>The compiled Dancing Monkeys application uses MatLab runtime files which are covered by the <a href="http://www.mathworks.com/license">MatLab license</a>.</p>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>Thanks to “Shelly Brown” and other beta testers for their help in getting Dancing Monkeys and Gorilla up to&nbsp;snuff.</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/blog/">Full blog</a></div>
        <section class="about"><p>Personal homepage of <a href="/">Karl O’Keeffe</a>.</p>

        </section>
      </div>
    </footer>
  </body>
</html>